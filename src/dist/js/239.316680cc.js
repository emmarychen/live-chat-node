"use strict";(self["webpackChunklive_chat"]=self["webpackChunklive_chat"]||[]).push([[239],{7239:function(o,t,n){n.r(t),n.d(t,{default:function(){return Z}});var a=n(6252),e=n(9963),r=n(3577);const s=o=>((0,a.dD)("data-v-19ad4a6b"),o=o(),(0,a.Cn)(),o),i={class:"d-flex justify-content-center align-items-center h-75"},l=s((()=>(0,a._)("div",{class:"my-2"},[(0,a._)("label",{for:"account"},"account")],-1))),u={class:"ft-12 text-color-red mt-1"},c=s((()=>(0,a._)("div",{class:"my-2"},[(0,a._)("label",{for:"pwd"},"password")],-1))),m={class:"ft-12 text-color-red mt-1"},d=["disabled"];function b(o,t,n,s,b,g){const p=(0,a.up)("el-input");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("form",{class:"login-form",onSubmit:t[3]||(t[3]=(0,e.iM)(((...t)=>o.onSubmit&&o.onSubmit(...t)),["prevent"]))},[l,(0,a.Wm)(p,{modelValue:o.form.account,"onUpdate:modelValue":t[0]||(t[0]=t=>o.form.account=t),id:"account"},null,8,["modelValue"]),(0,a._)("p",u,(0,r.zw)(o.errors.account),1),c,(0,a.Wm)(p,{modelValue:o.form.password,"onUpdate:modelValue":t[1]||(t[1]=t=>o.form.password=t),id:"pwd"},null,8,["modelValue"]),(0,a._)("p",m,(0,r.zw)(o.errors.password),1),(0,a._)("button",{type:"submit",class:"login-btn",disabled:o.isSubmitting},(0,r.zw)(o.$t("common.login")),9,d),(0,a._)("button",{onClick:t[2]||(t[2]=(...t)=>o.googleLogin&&o.googleLogin(...t))},"Login Using Google"),(0,a._)("p",null,(0,r.zw)(o.data),1)],32)])}var g=n(2262),p=n(2119),f=n(9499),w=n(1174),v=n(7258),S=n(2954),_=n(4231),h=n(9150);function k(o={}){const{t:t}=(0,h.QT)(),n=(0,a.Fl)((()=>{const o={account:(0,_.Z_)().required().label(t("form.account")),password:(0,_.Z_)().required().label(t("form.password"))};return(0,_.Ry)(o)})),e={account:"",password:""},{values:r,errors:s,handleSubmit:i,isSubmitting:l,resetForm:u}=(0,S.cI)({initialValues:e,validationSchema:n});Object.keys(e).every((o=>(0,S.U$)(o)));const c=i((async t=>{const n=await w.X.login({account:t.account,password:t.password});o.onSubmitCallback&&o.onSubmitCallback(n)}));return{form:r,errors:s,onSubmit:c,handleSubmit:i,isSubmitting:l,resetForm:u}}var y=k,C=(0,a.aZ)({name:"Login",setup(){const o=(0,v.Z)(),t=(0,p.tv)(),n=(0,g.iH)(),{form:a,errors:e,isSubmitting:r,onSubmit:s}=y({onSubmitCallback:n=>{n&&(o.login(n),t.push({name:"Home"}))}});async function i(){await(0,f.DJ)().then((o=>{n.value=o}));const a=await w.X.googleAuth(n.value,"login");a&&(o.login(a),t.push({name:"Home"}))}return{data:n,form:a,errors:e,isSubmitting:r,onSubmit:s,googleLogin:i}}}),V=n(3744);const L=(0,V.Z)(C,[["render",b],["__scopeId","data-v-19ad4a6b"]]);var Z=L}}]);