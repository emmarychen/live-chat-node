"use strict";(self["webpackChunklive_chat"]=self["webpackChunklive_chat"]||[]).push([[607],{2607:function(o,e,n){n.r(e),n.d(e,{default:function(){return Z}});var t=n(6252),a=n(9963),l=n(3577);const s=o=>((0,t.dD)("data-v-6a45ef9c"),o=o(),(0,t.Cn)(),o),c={class:"d-flex justify-content-center align-items-center h-75"},r=s((()=>(0,t._)("div",{class:"my-2"},[(0,t._)("label",{for:"account"},"account")],-1))),i={class:"ft-12 text-color-red mt-1"},u=s((()=>(0,t._)("div",{class:"my-2"},[(0,t._)("label",{for:"pwd"},"password")],-1))),m={class:"ft-12 text-color-red mt-1"},d=["disabled"];function g(o,e,n,s,g,b){const p=(0,t.up)("el-input"),f=(0,t.up)("GoogleLogin");return(0,t.wg)(),(0,t.iD)("div",c,[(0,t._)("form",{class:"login-form",onSubmit:e[3]||(e[3]=(0,a.iM)(((...e)=>o.onSubmit&&o.onSubmit(...e)),["prevent"]))},[r,(0,t.Wm)(p,{modelValue:o.form.account,"onUpdate:modelValue":e[0]||(e[0]=e=>o.form.account=e),id:"account"},null,8,["modelValue"]),(0,t._)("p",i,(0,l.zw)(o.errors.account),1),u,(0,t.Wm)(p,{modelValue:o.form.password,"onUpdate:modelValue":e[1]||(e[1]=e=>o.form.password=e),id:"pwd"},null,8,["modelValue"]),(0,t._)("p",m,(0,l.zw)(o.errors.password),1),(0,t._)("button",{type:"submit",class:"login-btn",disabled:o.isSubmitting},(0,l.zw)(o.$t("common.login")),9,d),(0,t.Wm)(f,{callback:o.callback},null,8,["callback"]),(0,t._)("button",{onClick:e[2]||(e[2]=(...e)=>o.googleLogin&&o.googleLogin(...e))},"Login Using Google"),(0,t._)("p",null,(0,l.zw)(o.data),1)],32)])}var b=n(2262),p=n(2119),f=n(9499),w=n(1174),v=n(7258),S=n(2954),_=n(4231),k=n(9150);function h(o={}){const{t:e}=(0,k.QT)(),n=(0,t.Fl)((()=>{const o={account:(0,_.Z_)().required().label(e("form.account")),password:(0,_.Z_)().required().label(e("form.password"))};return(0,_.Ry)(o)})),a={account:"",password:""},{values:l,errors:s,handleSubmit:c,isSubmitting:r,resetForm:i}=(0,S.cI)({initialValues:a,validationSchema:n});Object.keys(a).every((o=>(0,S.U$)(o)));const u=c((async e=>{const n=await w.X.login({account:e.account,password:e.password});o.onSubmitCallback&&o.onSubmitCallback(n)}));return{form:l,errors:s,onSubmit:u,handleSubmit:c,isSubmitting:r,resetForm:i}}var y=h,C=(0,t.aZ)({name:"Login",setup(){const o=(0,v.Z)(),e=(0,p.tv)(),n=(0,b.iH)(),t=o=>{n.value=o},a=()=>{(0,f.DJ)().then((o=>{n.value=o,console.log("Handle the response",o.access_token)}))},{form:l,errors:s,isSubmitting:c,onSubmit:r}=y({onSubmitCallback:n=>{n&&(o.login(n),e.push({name:"Home"}))}});async function i(){await(0,f.DJ)().then((o=>{n.value=o}));const o=await w.X.googleLogin(n.value,"login");o&&console.log(o,"google login return res")}return{data:n,form:l,errors:s,isSubmitting:c,onSubmit:r,callback:t,login:a,googleLogin:i}}}),L=n(3744);const V=(0,L.Z)(C,[["render",g],["__scopeId","data-v-6a45ef9c"]]);var Z=V}}]);